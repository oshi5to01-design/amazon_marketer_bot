# 🛒 Amazonセール速報Bot (Amazon Marketer Bot)

Amazonの売れ筋ランキングを定期的に巡回し、割引率の高い商品を自動で検出してX (旧Twitter) に投稿するBotです。
「マウス」「キーボード」「モニター」などのジャンルごとに特化して情報を収集します。

![Botの動作イメージ1](demo1.png)

![Botの動作イメージ2](demo2.png)

![Botの動作イメージ3](demo3.png)

## 🎯 開発の目的
プログラミングを学習し始め３週間ほどの作品です。
アフィリエイトとプログラミングを同時に学ぶことが目的です。
手動では追いきれない「タイムセール」や「突発的な割引」を24時間体制で監視できるよう開発しました。
スクレイピングをしておりますがあくまで学習目的で、動くことが確認できたあとは自動での稼働は停止しております。

## ✨ 特徴・工夫した点

### 1. 生成AI (Gemini API) による構造化データの抽出
開発当初はHTMLの `class` や `id` を指定して価格情報を取得していましたが、Amazonの商品ページはレイアウトやクラス名が頻繁に変更されるため、取得エラーが多発するという課題がありました。

そこで、**取得したHTMLソースをGemini API (LLM) に読み込ませ、価格・割引率・元値を特定して抽出させるロジック** を導入しました。
これにより、DOM構造が多少変化しても柔軟にデータを取得できるようになり、スクレイピングの安定性が劇的に向上しました。

### 2. マーケティング視点での投稿ロジック
Xのアルゴリズムを考慮し、インプレッション（表示回数）を最大化する工夫をしています。
*   **1ツイート目**: 商品画像とスペック、割引率のみを投稿（リンクなし）。
*   **2ツイート目（リプライ）**: アフィリエイトリンクとハッシュタグを投稿。
これにより、リンク付きポストによるインプレッション低下を回避しています。

### 3. Bot検知回避と保守性
*   **検知回避**: `undetected-chromedriver` やランダムな待機時間を実装し、人間らしい挙動を模倣。
*   **仮想ディスプレイ**: `pyvirtualdisplay` を使用し、GUIのないLinux環境（Ubuntu）でもブラウザ操作を実現。
*   **モジュール化**: スクレイピングのコアロジックを共通モジュール化し、新しいジャンルの追加やメンテナンスを容易にしました。

## 🔧 使用技術
*   **言語**: Python 3.x
*   **AI/LLM**: Google Gemini API
*   **ブラウザ操作**: Selenium, undetected-chromedriver
*   **解析**: BeautifulSoup4
*   **API**: Tweepy (X API v2)
*   **環境管理**: python-dotenv

## 🚀 実行方法
1. リポジトリをクローン
2. 依存ライブラリのインストール
   ```bash
   pip install -r requirements.txt
3. 環境変数の設定
    .env ファイルを作成し、以下のキーを設定してください。
    X API Key / Secret / Token
    Amazon Associate Tag
    Gemini API Key
4. 実行
    python daily_mission.py